groups:
  - name: More get request than 20
    rules:
    - alert: Between20And25
      expr: flask_http_request_total{method="GET", status="200"} > 20 and flask_http_request_total{method="GET", status="200"} < 25
      for: 10s
  - name: microblog-alerts
    rules:
    - alert: CrashTestTriggered
      expr: rate(flask_http_request_duration_seconds_bucket{le="+Inf",method="GET",path="/crash-test",status="500"}[1m]) > 0
      for: 5s
      labels:
        severity: warning
      annotations:
        summary: "Crash-test endpoint triggered"
        description: "Someone visited /crash-test and triggered an intentional crash."
